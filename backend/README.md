# ğŸ§ª å¦‚ä½•éªŒè¯åç«¯é¡¹ç›®

## ğŸ“‹ å¿«é€ŸéªŒè¯ï¼ˆ3 åˆ†é’Ÿï¼‰

### æ–¹æ³• 1ï¼šä½¿ç”¨æµ‹è¯•è„šæœ¬ï¼ˆæ¨èï¼‰â­

```bash
# 1. å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
cd backend
npm run dev

# 2. è¿è¡Œæµ‹è¯•è„šæœ¬ï¼ˆå¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼‰
cd backend
node test-api.js
```

**é¢„æœŸè¾“å‡ºï¼š**
```
ğŸš€ å¼€å§‹åç«¯ API æµ‹è¯•
================================================

â„¹ï¸  æµ‹è¯• 1: å¥åº·æ£€æŸ¥...
âœ… å¥åº·æ£€æŸ¥é€šè¿‡

â„¹ï¸  æµ‹è¯• 2: ç”¨æˆ·æ³¨å†Œ...
âœ… ç”¨æˆ·æ³¨å†ŒæˆåŠŸ

â„¹ï¸  æµ‹è¯• 3: ç”¨æˆ·ç™»å½•...
âœ… ç”¨æˆ·ç™»å½•æˆåŠŸ

â„¹ï¸  æµ‹è¯• 4: è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯...
âœ… è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ

â„¹ï¸  æµ‹è¯• 5: æ— æ•ˆ Token...
âœ… æ­£ç¡®æ‹’ç»æ— æ•ˆ Token

â„¹ï¸  æµ‹è¯• 6: 404 é”™è¯¯å¤„ç†...
âœ… æ­£ç¡®å¤„ç† 404 é”™è¯¯

================================================
ğŸ“Š æµ‹è¯•ç»“æœæ±‡æ€»
================================================

æ€»æµ‹è¯•æ•°: 6
âœ… é€šè¿‡: 6
âœ… å¤±è´¥: 0

æˆåŠŸç‡: 100.0%

ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼åç«¯è¿è¡Œæ­£å¸¸ï¼
```

---

### æ–¹æ³• 2ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆWindowsï¼‰

```bash
cd backend
test-api.bat
```

---

### æ–¹æ³• 3ï¼šæ‰‹åŠ¨ curl æµ‹è¯•

```bash
# 1. æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:5000/api/health

# 2. æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
curl -X POST http://localhost:5000/api/auth/register ^
  -H "Content-Type: application/json" ^
  -d "{\"username\":\"testuser\",\"email\":\"test@example.com\",\"password\":\"password123\"}"

# 3. æµ‹è¯•ç”¨æˆ·ç™»å½•
curl -X POST http://localhost:5000/api/auth/login ^
  -H "Content-Type: application/json" ^
  -d "{\"email\":\"test@example.com\",\"password\":\"password123\"}"
```

---

## âœ… éªŒè¯æ£€æŸ¥æ¸…å•

### åŸºç¡€éªŒè¯
- [ ] æœåŠ¡å™¨æˆåŠŸå¯åŠ¨åœ¨ `http://localhost:5000`
- [ ] æ§åˆ¶å°æ˜¾ç¤º "âœ… Database connected"
- [ ] æ§åˆ¶å°æ˜¾ç¤º "ğŸš€ Server running on..."
- [ ] æ— æŠ¥é”™ä¿¡æ¯

### API ç«¯ç‚¹éªŒè¯
- [ ] `GET /api/health` è¿”å› `{ "success": true }`
- [ ] `POST /api/auth/register` å¯ä»¥æ³¨å†Œæ–°ç”¨æˆ·å¹¶è¿”å› token
- [ ] `POST /api/auth/login` å¯ä»¥ç™»å½•å¹¶è¿”å› token
- [ ] `GET /api/auth/me` å¸¦ token å¯ä»¥è·å–ç”¨æˆ·ä¿¡æ¯
- [ ] `GET /api/auth/me` æ—  token è¿”å› 401 é”™è¯¯
- [ ] ä¸å­˜åœ¨çš„è·¯ç”±è¿”å› 404 é”™è¯¯

### æ•°æ®åº“éªŒè¯
- [ ] ç”¨æˆ·æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ï¼ˆä½¿ç”¨ Prisma Studio æŸ¥çœ‹ï¼‰
- [ ] å¯†ç å·²åŠ å¯†ï¼ˆä¸æ˜¯æ˜æ–‡ï¼‰
- [ ] UUID è‡ªåŠ¨ç”Ÿæˆ
- [ ] æ—¶é—´æˆ³è‡ªåŠ¨å¡«å……

---

## ğŸ” ä½¿ç”¨ Prisma Studio æŸ¥çœ‹æ•°æ®åº“

```bash
cd backend
npm run prisma:studio
```

**ä¼šè‡ªåŠ¨æ‰“å¼€ï¼š** `http://localhost:5555`

åœ¨è¿™é‡Œä½ å¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
- éªŒè¯å¯†ç å·²åŠ å¯†
- æŸ¥çœ‹åˆ›å»ºæ—¶é—´
- ç¼–è¾‘æˆ–åˆ é™¤æ•°æ®

---

## ğŸ“Š æµ‹è¯•æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| `test-api.js` | Node.js è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ | å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯• |
| `test-api.bat` | Windows æ‰¹å¤„ç†è„šæœ¬ | å¿«é€ŸéªŒè¯åŸºç¡€åŠŸèƒ½ |
| `API_TEST_GUIDE.md` | è¯¦ç»†æµ‹è¯•æŒ‡å— | å‚è€ƒæ–‡æ¡£ |

---

## ğŸ› å¸¸è§é—®é¢˜

### âŒ æœåŠ¡å™¨æœªè¿è¡Œ

**é”™è¯¯ï¼š** `ECONNREFUSED` æˆ– `connect ECONNREFUSED`

**è§£å†³ï¼š**
```bash
cd backend
npm run dev
```

---

### âŒ æ•°æ®åº“é”™è¯¯

**é”™è¯¯ï¼š** `PrismaClientInitializationError`

**è§£å†³ï¼š**
```bash
cd backend
npm run prisma:generate
npm run prisma:push
```

---

### âŒ ç«¯å£è¢«å ç”¨

**é”™è¯¯ï¼š** `EADDRINUSE: address already in use :::5000`

**è§£å†³ï¼š**
1. æ‰¾åˆ°å¹¶æ€æ­»å ç”¨ 5000 ç«¯å£çš„è¿›ç¨‹
2. æˆ–ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `PORT=5001`

---

### âŒ æ¨¡å—æœªæ‰¾åˆ°

**é”™è¯¯ï¼š** `Cannot find module 'axios'`

**è§£å†³ï¼š**
```bash
cd backend
npm install
```

---

## ğŸ¯ éªŒè¯æˆåŠŸæ ‡å‡†

å¦‚æœä½ çœ‹åˆ°ä»¥ä¸‹ç»“æœï¼Œè¯´æ˜åç«¯å®Œå…¨æ­£å¸¸ï¼š

âœ… **æœåŠ¡å™¨å¯åŠ¨è¾“å‡º**
```
âœ… Database connected
ğŸš€ Server running on http://localhost:5000
ğŸ“ Environment: development
ğŸ” CORS Origin: http://localhost:3000
```

âœ… **æµ‹è¯•è„šæœ¬è¾“å‡º**
```
æˆåŠŸç‡: 100.0%
ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼åç«¯è¿è¡Œæ­£å¸¸ï¼
```

âœ… **Prisma Studio**
- å¯ä»¥æ‰“å¼€å¹¶çœ‹åˆ°æ•°æ®åº“ç»“æ„
- User è¡¨ä¸­æœ‰æµ‹è¯•ç”¨æˆ·
- å¯†ç å­—æ®µæ˜¯åŠ å¯†çš„å“ˆå¸Œå€¼

---

## ğŸ“š ä¸‹ä¸€æ­¥

éªŒè¯é€šè¿‡åï¼Œä½ å¯ä»¥ï¼š

1. âœ… **å¼€å§‹å‰åç«¯è”è°ƒ** - é…ç½®å‰ç«¯ Axios
2. âœ… **ç»§ç»­å¼€å‘ API** - æ–‡ç« ã€åˆ†ç±»ã€æ ‡ç­¾ç­‰
3. âœ… **ç¼–å†™å•å…ƒæµ‹è¯•** - Jest + Supertest
4. âœ… **æ·»åŠ  API æ–‡æ¡£** - Swagger/OpenAPI

---

## ğŸ’¡ æç¤º

### å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# ä¸€é”®å¯åŠ¨æœåŠ¡å™¨å¹¶æµ‹è¯•
cd backend && npm run dev & timeout /t 3 && node test-api.js
```

### é‡ç½®æ•°æ®åº“

```bash
cd backend
del dev.db
npm run prisma:push
```

---

**ğŸŠ éªŒè¯å®Œæˆåï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒå¼€å§‹ä¸‹ä¸€é˜¶æ®µçš„å¼€å‘äº†ï¼** ğŸš€
